<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Solicitud de Vacaciones - Strata Pavimentos</title>
<style>
body { font-family: Arial, sans-serif; padding:20px; background:#525659; }
.document { max-width:800px; margin:auto; border:1px solid #ccc; padding:40px; background:white; box-shadow:0 0 15px rgba(0,0,0,0.3); border-radius:10px; }
h1 { text-align:center; border-bottom:2px solid #333; padding-bottom:10px; font-size:20px; text-transform:uppercase; }
.section { background:#f4f4f4; padding:5px 10px; font-weight:bold; margin:15px 0 10px; border:1px solid #ccc; font-size:14px; border-radius:4px; }
.field { margin-bottom:10px; display:flex; align-items:center; }
.field label { width:180px; font-weight:bold; font-size:13px; }
input[type="text"], input[type="date"], select { flex:1; border:1px solid #999; padding:6px; font-size:13px; border-radius:3px; }
.type-grid { display:grid; grid-template-columns:1fr 1fr; gap:8px; margin:10px 0; font-size:13px; }
.type-item { display:flex; align-items:center; }
.grid { display:grid; grid-template-columns:1fr 1fr; gap:20px; }
.signature-wrapper { border:1px solid #000; background:#fff; position:relative; cursor:crosshair; margin-top:5px; }
canvas { display:block; width:100%; height:120px; }
.clear-btn { position:absolute; top:5px; right:5px; background:#e74c3c; color:white; border:none; padding:3px 8px; cursor:pointer; font-size:10px; border-radius:3px; z-index:10; }
.rgpd { font-size:10px; color:#555; text-align:justify; margin-top:25px; border-top:1px solid #eee; padding-top:10px; line-height:1.2; }
.no-print { text-align:center; margin-bottom:20px; background:#333; padding:15px; border-radius:8px; }
.btn-pdf { padding:12px 25px; background:#27ae60; color:white; border:none; border-radius:5px; cursor:pointer; font-size:16px; font-weight:bold; }
.btn-pdf:hover { background:#219150; }
#total_dias { font-weight:bold; background:#e8f4fd; color:#2c3e50; border:1px solid #3498db; text-align:center; max-width:80px; }
@media print { .no-print, .clear-btn { display:none; } body { background:white; padding:0; } .document { border:none; width:100%; box-shadow:none; } }
</style>
</head>
<body>

<div class="no-print">
    <button class="btn-pdf" onclick="window.print()">游 GENERAR PDF FIRMADO</button>
    <p style="color:white; font-size:12px; margin-top:10px;">Una vez descargado el PDF, env칤elo como adjunto a contabilidad@strata.es</p>
</div>

<div class="document">
<h1>SOLICITUD DE VACACIONES / PERMISOS</h1>

<div class="field">
<label>EMPRESA:</label>
<select id="empresa">
<option value="">-- Seleccione empresa --</option>
<option value="Strata Pavimentos, S.L.">Strata Pavimentos, S.L.</option>
<option value="Touchit, S.L.">Touchit, S.L.</option>
<option value="Inversiones Tierra de Barros, S.L.">Inversiones Tierra de Barros, S.L.</option>
</select>
</div>

<div class="section">1. DATOS DEL TRABAJADOR/A</div>
<div class="field"><label>Nombre y Apellidos:</label><input type="text"></div>
<div class="grid">
<div class="field"><label style="width:80px;">DNI/NIE:</label><input type="text"></div>
<div class="field"><label style="width:80px;">Puesto:</label><input type="text"></div>
</div>

<div class="section">2. TIPO DE SOLICITUD</div>
<div class="type-grid">
<div class="type-item"><input type="checkbox"> Vacaciones</div>
<div class="type-item"><input type="checkbox"> D칤as de permiso no retribuido</div>
<div class="type-item"><input type="checkbox"> Asuntos propios</div>
<div class="type-item"><input type="checkbox"> Festivo Local</div>
<div class="type-item" style="grid-column: span 2;">
<input type="checkbox"> Otros: <input type="text" style="margin-left:5px;">
</div>
</div>

<div class="section">3. PER칈ODO SOLICITADO</div>
<div class="grid">
<div class="field"><label style="width:100px;">Fecha Inicio:</label><input type="date" id="fecha_inicio" onchange="calcularDias()"></div>
<div class="field"><label style="width:100px;">Fecha Fin:</label><input type="date" id="fecha_fin" onchange="calcularDias()"></div>
</div>
<div class="field"><label>N칰mero total de d칤as:</label><input type="text" id="total_dias" readonly></div>

<div class="section">4. FIRMAS Y CONSTANCIA</div>
<div class="grid">
<div>
<label style="font-size:11px; font-weight:bold;">Firma del trabajador/a:</label>
<div class="signature-wrapper">
<button class="clear-btn" onclick="clearCanvas('sig1')">Borrar</button>
<canvas id="sig1"></canvas>
</div>
</div>
<div>
<label style="font-size:11px; font-weight:bold;">Sello y Firma Empresa:</label>
<div class="signature-wrapper">
<button class="clear-btn" onclick="clearCanvas('sig2')">Borrar</button>
<canvas id="sig2"></canvas>
</div>
</div>
</div>

<div class="rgpd">
<strong>INFORMACI칍N B츼SICA SOBRE PROTECCI칍N DE DATOS:</strong> En cumplimiento del RGPD y la LOPDGDD, los datos facilitados en este formulario ser치n tratados por la Empresa seleccionada con la finalidad de gestionar su solicitud de vacaciones o permisos laborales. La base jur칤dica del tratamiento es la ejecuci칩n del contrato de trabajo. Se conservar치n durante el tiempo necesario. No se ceder치n datos a terceros salvo obligaci칩n legal.
</div>

<div class="section" style="margin-top:20px; background:#34495e; color:white;">RESOLUCI칍N (Uso exclusivo empresa)</div>
<div class="field" style="margin-top:10px;">
<input type="checkbox"> Aprobado &nbsp;&nbsp; <input type="checkbox"> Denegado &nbsp;&nbsp; 
<label style="width:auto; margin-left:20px;">Fecha:</label> <input type="date" style="max-width:150px;">
</div>
</div>

<script>
function calcularDias() {
    const inicio = document.getElementById('fecha_inicio').value;
    const fin = document.getElementById('fecha_fin').value;
    if(inicio && fin){
        const f1=new Date(inicio), f2=new Date(fin);
        if(f2>=f1){
            const diff=Math.ceil(Math.abs(f2-f1)/(1000*60*60*24))+1;
            document.getElementById('total_dias').value=diff;
        }
    }
}

function setupCanvas(id){
    const canvas=document.getElementById(id), ctx=canvas.getContext('2d');
    let drawing=false;
    canvas.width=canvas.offsetWidth; canvas.height=canvas.offsetHeight;
    ctx.lineWidth=2; ctx.lineJoin='round'; ctx.lineCap='round';
    const getP=e=>{const r=canvas.getBoundingClientRect(); return {x:(e.clientX||(e.touches&&e.touches[0].clientX))-r.left, y:(e.clientY||(e.touches&&e.touches[0].clientY))-r.top};};
    canvas.addEventListener('mousedown',e=>{drawing=true; const p=getP(e); ctx.beginPath(); ctx.moveTo(p.x,p.y);});
    canvas.addEventListener('mousemove',e=>{if(!drawing)return; const p=getP(e); ctx.lineTo(p.x,p.y); ctx.stroke();});
    window.addEventListener('mouseup',()=>drawing=false);
    canvas.addEventListener('touchstart',e=>{drawing=true; const p=getP(e); ctx.beginPath(); ctx.moveTo(p.x,p.y); if(e.cancelable)e.preventDefault();},{passive:false});
    canvas.addEventListener('touchmove',e=>{if(!drawing)return; const p=getP(e); ctx.lineTo(p.x,p.y); ctx.stroke(); if(e.cancelable)e.preventDefault();},{passive:false});
}
function clearCanvas(id){const c=document.getElementById(id); c.getContext('2d').clearRect(0,0,c.width,c.height);}
window.onload=()=>{setupCanvas('sig1'); setupCanvas('sig2');};
</script>

</body>
</html>